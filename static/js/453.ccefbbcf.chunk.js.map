{"version":3,"file":"static/js/453.ccefbbcf.chunk.js","mappings":"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","sources":["pages/Tasks.jsx"],"sourcesContent":["import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://goit-task-manager.herokuapp.com/';\n\n// Utility to add JWT\nconst setAuthHeader = token => {\n  axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\n\n// Utility to remove JWT\nconst clearAuthHeader = () => {\n  axios.defaults.headers.common.Authorization = '';\n};\n\n/*\n * POST @ /users/signup\n * body: { name, email, password }\n */\nexport const register = createAsyncThunk(\n  'auth/register',\n  async (credentials, thunkAPI) => {\n    try {\n      const res = await axios.post('/users/signup', credentials);\n      // After successful registration, add the token to the HTTP header\n      setAuthHeader(res.data.token);\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\n/*\n * POST @ /users/login\n * body: { email, password }\n */\nexport const logIn = createAsyncThunk(\n  'auth/login',\n  async (credentials, thunkAPI) => {\n    try {\n      const res = await axios.post('/users/login', credentials);\n      // After successful login, add the token to the HTTP header\n      setAuthHeader(res.data.token);\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\n/*\n * POST @ /users/logout\n * headers: Authorization: Bearer token\n */\nexport const logOut = createAsyncThunk('auth/logout', async (_, thunkAPI) => {\n  try {\n    await axios.post('/users/logout');\n    // After a successful logout, remove the token from the HTTP header\n    clearAuthHeader();\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\n\n/*\n * GET @ /users/current\n * headers: Authorization: Bearer token\n */\nexport const refreshUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    // Reading the token from the state via getState()\n    const state = thunkAPI.getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      // If there is no token, exit without performing any request\n      return thunkAPI.rejectWithValue('Unable to fetch user');\n    }\n\n    try {\n      // If there is a token, add it to the HTTP header and perform the request\n      setAuthHeader(persistedToken);\n      const res = await axios.get('/users/me');\n      return res.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n"],"names":["axios","setAuthHeader","token","concat","register","createAsyncThunk","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","credentials","thunkAPI","res","_context","prev","next","sent","data","abrupt","t0","rejectWithValue","message","stop","_x","_x2","apply","arguments","logIn","_ref2","_callee2","_context2","_x3","_x4","logOut","_ref3","_callee3","_","_context3","_x5","_x6","refreshUser","_ref4","_callee4","state","persistedToken","_context4","getState","auth","_x7","_x8"],"sourceRoot":""}