"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[453],{6453:function(t,e,r){r.r(e),r.d(e,{logIn:function(){return i},logOut:function(){return h},refreshUser:function(){return f},register:function(){return p}});var n=r(5861),u=r(4687),a=r.n(u),s=r(8),c=r(2276);s.Z.defaults.baseURL="https://goit-task-manager.herokuapp.com/";var o=function(t){s.Z.defaults.headers.common.Authorization="Bearer ".concat(t)},p=(0,c.hg)("auth/register",function(){var t=(0,n.Z)(a().mark((function t(e,r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.post("/users/signup",e);case 3:return n=t.sent,o(n.data.token),t.abrupt("return",n.data);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",r.rejectWithValue(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()),i=(0,c.hg)("auth/login",function(){var t=(0,n.Z)(a().mark((function t(e,r){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.post("/users/login",e);case 3:return n=t.sent,o(n.data.token),t.abrupt("return",n.data);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",r.rejectWithValue(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,r){return t.apply(this,arguments)}}()),h=(0,c.hg)("auth/logout",function(){var t=(0,n.Z)(a().mark((function t(e,r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.post("/users/logout");case 3:s.Z.defaults.headers.common.Authorization="",t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",r.rejectWithValue(t.t0.message));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,r){return t.apply(this,arguments)}}()),f=(0,c.hg)("auth/refresh",function(){var t=(0,n.Z)(a().mark((function t(e,r){var n,u,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.getState(),null!==(u=n.auth.token)){t.next=4;break}return t.abrupt("return",r.rejectWithValue("Unable to fetch user"));case 4:return t.prev=4,o(u),t.next=8,s.Z.get("/users/me");case 8:return c=t.sent,t.abrupt("return",c.data);case 12:return t.prev=12,t.t0=t.catch(4),t.abrupt("return",r.rejectWithValue(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,r){return t.apply(this,arguments)}}())}}]);
//# sourceMappingURL=453.ccefbbcf.chunk.js.map